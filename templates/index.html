{% extends 'base.html' %}

{% block content %}

<!-- Marquee Section -->
<div class="wrapper mb-4">
    <div class="marquee">
        <div class="marquee-content d-flex gap-4">
            <p>| Total Number of Views: 567</p>
            <p>| Total Number of Stores: {{ count }}</p>
            <p>| Total Number of Views: 567</p>
            <p>| Total Number of Stores: {{ count }}</p>
            <p>| Total Number of Views: 567</p>
            <p>| Total Number of Stores: {{ count }}</p>
            <p>| Total Number of Views: 567</p>
            <p>| Total Number of Stores: {{ count }}</p>
        </div>
    </div>
</div>

<!-- Welcome Section -->
<div class="container text-center" style="max-width: 800px; margin: 0 auto;">
    <p class="mb-2 raleway" style="color: #2d6969; font-size: 2.5rem; font-weight: 600;">
        Welcome to FashionFootprint
        
    </p>
    <p class="raleway" style="color: #2d6969;">
        We provide independent, data-driven rankings of fashion brands based on <b>measurable sustainability</b> standards â€” from ethical sourcing and environmental <b>impact to durability and long-term value</b>. 
        Our <b>mission is simple</b>: to empower consumers to <b>shop more responsibly</b> and <b>invest</b> in clothing designed to last.
    </p>
    <p class="raleway" style="color: #2d6969;">
        <b>FashionFootprint</b> brings clarity, credibility, and accountability to sustainable fashion.
    </p>
</div>

<div class="winners-container mt-5 text-center">
    <h2 style="color: #2d6969; letter-spacing: 1px; font-weight: 600; margin-bottom: 25px;">Top Performers</h2>
    <div class="winners-grid d-flex justify-content-center flex-wrap gap-3">
        {% for category, data in winners.items() %}
        <div class="winner-card shadow-sm" style="background-color: #FFFF; border: 2px solid #2d6969; border-radius: 10px; width: 140px; padding: 10px; transition: all 0.3s ease; flex: 0 0 auto;">
            <!-- Badge Icon -->
            <div class="badge-icon badge-{{ category }}" style="margin-bottom: 8px;"></div>
            
            <!-- Category Name -->
            <h4 style="text-transform: capitalize; color: #5A5A5A; margin-bottom: 6px; font-size: 0.9rem;">
                {{ category|replace('_', ' ') }}
            </h4>
            
            <!-- Winner Name -->
            <p class="winner-name" style="color: #2d6969; font-weight: 600; font-size: 0.85rem; margin-bottom: 3px;">{{ data[0] }}</p>
            
            <!-- Winner Score -->
            <p class="winner-score" style="color: #6FBF3F; font-weight: 500; font-size: 0.8rem;">Score: {{ data[1] }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Styles -->
<style>
/* Base style for all badge icons */
.badge-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 10px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* Mapping routes.py keys to uploaded image files */
.badge-overall { 
    background-image: url('{{ url_for("static", filename="Overall_Badge.png") }}'); 
}
.badge-carbon { 
    background-image: url('{{ url_for("static", filename="Low_Carbon_Badge.png") }}'); 
}
.badge-supply_chain { 
    background-image: url('{{ url_for("static", filename="Traceability_badge.png") }}'); 
}
.badge-waste { 
    background-image: url('{{ url_for("static", filename="Second_life_badge.png") }}'); 
}
.badge-water { 
    background-image: url('{{ url_for("static", filename="Water_impact_badge.png") }}'); 
}
.badge-materials {
    background-image: url('{{ url_for("static", filename="Sustainable_Badge.png") }}'); 
}

/* Hover effect: scale card without colliding with others */
.winner-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.winner-card:hover {
    transform: scale(1.2); /* grows 30% bigger */
    z-index: 2;
    box-shadow: 0 12px 30px rgba(0,0,0,0.25);
}
</style>

{% endblock %}